{"title":"Casbin-訪問權限控制工具","slug":"casbin-訪問權限控制工具","date":"2018-09-26T20:51:25.000Z","updated":"2018-09-27T13:08:43.994Z","comments":true,"path":"api/articles/2018/09/26/casbin-訪問權限控制工具.json","photos":["/2018/09/26/casbin-訪問權限控制工具/anime-love-live-sunshine-a9-1280x720.jpg"],"link":"","excerpt":"","covers":null,"content":"<p>Casbin 本質是一個配對的權限的工具庫，主要是由 model 模型和 policy 政策組成，</p>\n<p>model example</p>\n<p>r 是接受傳入的參數並定義欄位，例子中接受三項參數</p>\n<p>p 是解析 Prolicy 內容並定義欄位</p>\n<p>m 是配對 Policy 方式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br><span class=\"line\" data-line-number=\"5\"></span><br><span class=\"line\" data-line-number=\"6\"></span><br><span class=\"line\" data-line-number=\"7\"></span><br><span class=\"line\" data-line-number=\"8\"></span><br><span class=\"line\" data-line-number=\"9\"></span><br><span class=\"line\" data-line-number=\"10\"></span><br><span class=\"line\" data-line-number=\"11\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[request_definition]</span><br><span class=\"line\">r = sub, obj, act</span><br><span class=\"line\"></span><br><span class=\"line\">[policy_definition]</span><br><span class=\"line\">p = sub, obj, act</span><br><span class=\"line\"></span><br><span class=\"line\">[policy_effect]</span><br><span class=\"line\">e = some(where (p.eft == allow))</span><br><span class=\"line\"></span><br><span class=\"line\">[matchers]</span><br><span class=\"line\">m = (p.sub in r.sub || p.sub == &quot;*&quot;) &amp;&amp; keyMatch(r.obj, p.obj) &amp;&amp; (r.act == p.act || p.act == &quot;*&quot;)</span><br></pre></td></tr></table></figure>\n<p>policy example </p>\n<p>ps:雖然是csv格式 但需要在逗號後留空白，別外內容的空白是會保留，不要因為對齊而加padding</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\">p, *, /info, GET</span><br><span class=\"line\">p, user, /users, GET</span><br><span class=\"line\">p, user, /users, POST</span><br><span class=\"line\">p, setting, /settings, *</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Golang","slug":"Golang","count":3,"path":"api/categories/Golang.json"}],"tags":[]}