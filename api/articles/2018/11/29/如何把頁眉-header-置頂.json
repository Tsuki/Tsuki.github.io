{"title":"如何把頁眉(Header)置頂","slug":"如何把頁眉-header-置頂","date":"2018-11-29T14:59:03.000Z","updated":"2018-11-29T08:23:17.100Z","comments":true,"path":"api/articles/2018/11/29/如何把頁眉-header-置頂.json","photos":["/2018/11/29/如何把頁眉-header-置頂/68295053_p0_master1200.jpg"],"link":"","excerpt":"方案一：兼容IE這個方案並不完美，position: fixed 太多坑，如果有有別一個 position: fixed 會出現奇怪的問題。現在頁面改成下面的方案二，雖然不支持IE，但減少了JS 代碼，而且css 代碼更清𥇦。<br><br><br><br><br><br><br><br><br><br>.sticky &#123;<br>  position: fixed;<br>  top: 0;<br>  width: 100%;<br>  z-index: 5000;<br>&#125;<br><br>.sticky + .main &#123;<br>  padding-top: 92px;<br>&#125;<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>initSticky();<br><br>function initSticky() &#123;<br>  // Get the header<br>  let header = document.getElementById(\"header\");<br><br>  // Get the offset position of the navbar<br>  let sticky = header.offsetTop;<br><br>  function stickyCheck() &#123;<br>    if (window.pageYOffset &gt; sticky) &#123;<br>      header.classList.add(\"sticky\");<br>    &#125; else &#123;<br>      header.classList.remove(\"sticky\");<br>    &#125;<br>  &#125;<br><br>  window.onscroll = function () &#123;<br>    stickyCheck()<br>  &#125;;<br>&#125;<br>方案二：不兼容IE直接在本來的 header 把position: fixed改成 sticky 和 top: 0. Javascript 可以去掉<br><br><br><br><br>.header &#123;<br>  position: sticky;<br>  top: 0;<br>  z-index: 5000;<br>&#125;<br>","content":"<h3 id=\"方案一：兼容IE\"><a href=\"#方案一：兼容IE\" class=\"headerlink\" title=\"方案一：兼容IE\"></a>方案一：兼容IE</h3><p>這個方案並不完美，position: fixed 太多坑，如果有有別一個 position: fixed 會出現奇怪的問題。</p>\n<p>現在頁面改成下面的方案二，雖然不支持IE，但減少了JS 代碼，而且css 代碼更清𥇦。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br><span class=\"line\" data-line-number=\"5\"></span><br><span class=\"line\" data-line-number=\"6\"></span><br><span class=\"line\" data-line-number=\"7\"></span><br><span class=\"line\" data-line-number=\"8\"></span><br><span class=\"line\" data-line-number=\"9\"></span><br><span class=\"line\" data-line-number=\"10\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.sticky</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">5000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.sticky</span> + <span class=\"selector-class\">.main</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding-top</span>: <span class=\"number\">92px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br><span class=\"line\" data-line-number=\"5\"></span><br><span class=\"line\" data-line-number=\"6\"></span><br><span class=\"line\" data-line-number=\"7\"></span><br><span class=\"line\" data-line-number=\"8\"></span><br><span class=\"line\" data-line-number=\"9\"></span><br><span class=\"line\" data-line-number=\"10\"></span><br><span class=\"line\" data-line-number=\"11\"></span><br><span class=\"line\" data-line-number=\"12\"></span><br><span class=\"line\" data-line-number=\"13\"></span><br><span class=\"line\" data-line-number=\"14\"></span><br><span class=\"line\" data-line-number=\"15\"></span><br><span class=\"line\" data-line-number=\"16\"></span><br><span class=\"line\" data-line-number=\"17\"></span><br><span class=\"line\" data-line-number=\"18\"></span><br><span class=\"line\" data-line-number=\"19\"></span><br><span class=\"line\" data-line-number=\"20\"></span><br><span class=\"line\" data-line-number=\"21\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\">initSticky();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">initSticky</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Get the header</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> header = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"header\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Get the offset position of the navbar</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> sticky = header.offsetTop;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">stickyCheck</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.pageYOffset &gt; sticky) &#123;</span><br><span class=\"line\">      header.classList.add(<span class=\"string\">\"sticky\"</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      header.classList.remove(<span class=\"string\">\"sticky\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">window</span>.onscroll = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    stickyCheck()</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"方案二：不兼容IE\"><a href=\"#方案二：不兼容IE\" class=\"headerlink\" title=\"方案二：不兼容IE\"></a>方案二：不兼容IE</h3><p>直接在本來的 header 把position: fixed改成 sticky 和 top: 0. Javascript 可以去掉</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br><span class=\"line\" data-line-number=\"5\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.header</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: sticky;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">5000</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","prev":{"title":"主題遷移到 Angular 進度","link":"/2018/12/10/主題遷移到-Angular-進度"},"next":{"title":"使用CDN把Shadowsocks主機的實體IP隱藏","link":"/2018/11/29/使用CDN把SS主機的實體IP隱藏"},"categories":[{"name":"Front-end","slug":"Front-end","count":4,"path":"api/categories/Front-end.json"},{"name":"CSS","slug":"Front-end/CSS","count":1,"path":"api/categories/Front-end/CSS.json"}],"tags":[]}