{"title":"Android requestedOrientation 坑","slug":"Android-requestedOrientation-坑","date":"2019-01-30T14:42:39.000Z","updated":"2019-04-04T12:59:22.508Z","comments":true,"path":"api/articles/2019/01/30/Android-requestedOrientation-坑.json","photos":[],"link":"","excerpt":"","content":"<p>如果在 Activity on Create 時 配置 <code>requestedOrientation</code> 等動作時會觸發 view 重新渲染，會令 view有機率發生奇怪的 dead thread 等情況。<code>Handler sending message to a Handler on a dead thread</code></p><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_PORTRAIT</span><br></pre></td></tr></table></figure><p>正確的做法是在 <code>AndroidManifest.xml</code> 上加入 <code>android:screenOrientation=&quot;portrait&quot;</code> 。</p><p><a href=\"https://developer.android.com/guide/topics/resources/runtime-changes\" target=\"_blank\" rel=\"noopener\">Documentation: Handle configuration changes</a></p>","prev":{"title":"Android 文件保存和索引","link":"/2019/02/02/Android-文件保存和索引"},"next":{"title":"選擇SFP的ONU端口","link":"/2019/01/03/選擇SFP的ONU端口"},"categories":[],"tags":[]}