{"title":"Docker清理","slug":"Docker清理","date":"2018-08-20T20:01:56.000Z","updated":"2018-08-20T12:25:09.461Z","comments":true,"path":"api/articles/Docker清理.json","photos":["/2018/08/20/Docker清理/3GtH1bB.jpg"],"link":"","excerpt":null,"covers":null,"content":"<h3 id=\"查看已使用空間\"><a href=\"#查看已使用空間\" class=\"headerlink\" title=\"查看已使用空間\"></a>查看已使用空間</h3><blockquote>\n<p>docker system df</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\" data-line-number=\"1\"></span><br><span class=\"line\" data-line-number=\"2\"></span><br><span class=\"line\" data-line-number=\"3\"></span><br><span class=\"line\" data-line-number=\"4\"></span><br><span class=\"line\" data-line-number=\"5\"></span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TYPE                TOTAL               ACTIVE              SIZE                RECLAIMABLE</span><br><span class=\"line\">Images              17                  15                  5.531GB             1.822GB (32%)</span><br><span class=\"line\">Containers          20                  1                   251.6MB             212.2MB (84%)</span><br><span class=\"line\">Local Volumes       42                  17                  1.09GB              174.5MB (16%)</span><br><span class=\"line\">Build Cache         0                   0                   0B                  0B</span><br></pre></td></tr></table></figure>\n<h3 id=\"清理空間\"><a href=\"#清理空間\" class=\"headerlink\" title=\"清理空間\"></a>清理空間</h3><p>Remove local volumes not used by at least one container - 沒有在使用的空間</p>\n<blockquote>\n<p>docker volume prune</p>\n</blockquote>\n<h3 id=\"清理容器\"><a href=\"#清理容器\" class=\"headerlink\" title=\"清理容器\"></a>清理容器</h3><p>Remove all stopped containers - 己停用的容器</p>\n<blockquote>\n<p>docker container prune</p>\n</blockquote>\n<h3 id=\"清理影像\"><a href=\"#清理影像\" class=\"headerlink\" title=\"清理影像\"></a>清理影像</h3><p>Remove dangling images - 沒有被tag的影像層</p>\n<blockquote>\n<p>docker image prune</p>\n</blockquote>\n<p>Remove images without at least one container associated - 沒有在使用的影像</p>\n<blockquote>\n<p>docker image prune -a</p>\n</blockquote>\n<h3 id=\"全面清理\"><a href=\"#全面清理\" class=\"headerlink\" title=\"全面清理\"></a>全面清理</h3><ul>\n<li>Remove stopped containers - 己停用的容器</li>\n<li>Remove networks not used by at least one container - 沒有容器連接的網絡</li>\n<li>Remove dangling images - 沒有被tag</li>\n<li>Remove build cache - 構建快取</li>\n</ul>\n<blockquote>\n<p>docker system prune</p>\n</blockquote>\n","categories":[{"name":"Ops","slug":"Ops","count":6,"path":"api/categories/Ops.json"}],"tags":[]}